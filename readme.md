# Telegram ¬´–£—Ç—Ä–µ–Ω–Ω–∏–π –±—Ä–∏—Ñ–∏–Ω–≥¬ª

**–û–ø–∏—Å–∞–Ω–∏–µ:**

¬´–£—Ç—Ä–µ–Ω–Ω–∏–π –±—Ä–∏—Ñ–∏–Ω–≥¬ª ‚Äî —ç—Ç–æ Telegram‚Äë–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ/–µ–∂–µ—á–∞—Å–Ω–æ (–ø–æ –≤—ã–±–æ—Ä—É) –∏–ª–∏ –≤ –∑–∞–¥–∞–Ω–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–π–¥–∂–µ—Å—Ç:
- **–ö—É—Ä—Å USD/RUB** (–ø–æ –¥–∞–Ω–Ω—ã–º –¶–ë –†–§)
- **–¢–æ–ø‚Äë3 –Ω–æ–≤–æ—Å—Ç–∏** (—á–µ—Ä–µ–∑ RSS –†–ë–ö)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:
- –ó–∞–¥–∞—Ç—å –≤—Ä–µ–º—è —Ä–∞—Å—Å—ã–ª–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 09:00)
- –í–∫–ª—é—á–∏—Ç—å/–æ—Ç–∫–ª—é—á–∏—Ç—å –º–æ–¥—É–ª–∏ ¬´–ö—É—Ä—Å –≤–∞–ª—é—Ç¬ª –∏ ¬´–ù–æ–≤–æ—Å—Ç–∏¬ª
- –ü–æ–ª—É—á–∏—Ç—å –±—Ä–∏—Ñ–∏–Ω–≥ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∫–Ω–æ–ø–∫–æ–π ¬´üì® –ü–æ–ª—É—á–∏—Ç—å –±—Ä–∏—Ñ–∏–Ω–≥ —Å–µ–π—á–∞—Å¬ª
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É ¬´‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ **webhook** —á–µ—Ä–µ–∑ **aiohttp**, –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è **Nginx** –∏ –∑–∞–ø—É—â–µ–Ω –≤ **Docker**. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **polling**.

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- `/start` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- ¬´üì® –ü–æ–ª—É—á–∏—Ç—å –±—Ä–∏—Ñ–∏–Ω–≥ —Å–µ–π—á–∞—Å¬ª ‚Äî –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- ¬´‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª ‚Äî FSM‚Äë–¥–∏–∞–ª–æ–≥ –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏ –º–æ–¥—É–ª–µ–π
- –ï–∂–µ—á–∞—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–∏–ª–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è) –∏ —Ä–∞—Å—Å—ã–ª–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

---

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- ### –Ø–∑—ã–∫ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏
  - **Python 3.13**
  - **Aiogram v3** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π **asyncio**, **middlewares**, **routers**, **FSMContext**
  - **aiohttp** (webhook‚Äë—Å–µ—Ä–≤–µ—Ä)
  - **APScheduler** ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á

- ### –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
  - **PostgreSQL** + **asyncpg** (Pool)
  - **python-dotenv** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

- ### –í–Ω–µ—à–Ω–∏–µ API
  - **–†–ë–ö RSS** (–Ω–æ–≤–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `feedparser` + `aiohttp`)
  - **–¶–ë –†–§** (–∫—É—Ä—Å –≤–∞–ª—é—Ç)

- ### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
  - **Docker** + **Docker Compose** (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥—ã –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
  - **Nginx** (–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ / SSL)

- ### CI/CD
  - **GitHub Actions**: —Å–±–æ—Ä–∫–∞ multi‚Äëarch –æ–±—Ä–∞–∑–∞, –ø—É—à –≤ Docker¬†Hub, –¥–µ–ø–ª–æ–π –ø–æ SSH

- ### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π **logging**

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —Å–æ–∑–¥–∞—Ç—å `.env`:
    ```dotenv
    BOT_TOKEN=–í–ê–®_–¢–û–ö–ï–ù
    DATABASE_URL=postgresql://botuser:pass@host:5432/db
    TIMEZONE=Asia/Dhaka
    DOMAIN=–≤–∞—à.–¥–æ–º–µ–Ω
    USE_WEBHOOK=true
    PORT=8000
    WEBHOOK_SECRET=<–ª—é–±–∞—è_—Å–ª—É—á–∞–π–Ω–∞—è_—Å—Ç—Ä–æ–∫–∞>
    ```
2. –°–æ–±—Ä–∞—Ç—å Docker‚Äë–æ–±—Ä–∞–∑:
    ```bash
    docker build -t telegram-briefing-bot .
    ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
    ```bash
    docker run -d --name briefing-bot \
      --restart always --env-file .env -p 8000:8000 telegram-briefing-bot
    ```
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx –∏ SSL (Let's Encrypt + –ø—Ä–æ–∫—Å–∏ –Ω–∞ `/webhook/`).
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook:
    ```bash
    curl -X POST "https://api.telegram.org/bot${BOT_TOKEN}/setWebhook" \
      -d "url=https://${DOMAIN}/webhook/" \
      -d "secret_token=${WEBHOOK_SECRET}"
    ```
6. –ì–æ—Ç–æ–≤–æ! –ü–∏—à–∏—Ç–µ `/start` –∏–ª–∏ –Ω–∞–∂–∏–º–∞–π—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–ù–∞—á–∞—Ç—å¬ª –≤ –º–µ–Ω—é –±–æ—Ç–∞.

---